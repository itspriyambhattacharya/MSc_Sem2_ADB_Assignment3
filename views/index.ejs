<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Marks Display App</title>
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css"
    />
  </head>
  <body class="bg-dark text-white">
    <h1 class="text-center mt-3 mb-5">Marks Submission Form</h1>
    <div class="container shadow-lg">
      <form action="/" method="post">
        <div class="form-floating mb-3">
          <input
            type="text"
            class="form-control"
            id="name"
            name="name"
            placeholder="Priyam Bhattacharya"
            required
          />
          <label for="name">Name of Student</label>
        </div>
        <div class="form-floating mb-3">
          <input
            type="number"
            class="form-control"
            id="m1"
            name="m1"
            placeholder="78"
            required
          />
          <label for="m1">Marks of Subject 1</label>
        </div>
        <div class="form-floating mb-3">
          <input
            type="number"
            class="form-control"
            id="m2"
            name="m2"
            placeholder="43"
            required
          />
          <label for="m2">Marks of Subject 2</label>
        </div>

        <div class="form-floating mb-3">
          <input
            type="number"
            class="form-control"
            id="m3"
            name="m3"
            placeholder="87"
            required
          />
          <label for="m3">Marks of Subject 3</label>
        </div>

        <div class="form-floating mb-3">
          <input
            type="number"
            class="form-control"
            id="m4"
            name="m4"
            placeholder="96"
            required
          />
          <label for="m4">Marks of Subject 4</label>
        </div>
        <div class="mb-3 d-flex justify-content-center align-items-center">
          <button type="submit" class="btn btn-primary w-100">Submit</button>
        </div>
      </form>
    </div>

    <div
      class="container d-flex justify-content-center align-items-center gap-4"
    >
      <a href="/more" class="btn btn-success">
        Number of Students who got more than 90
      </a>
      <a href="less" class="btn btn-danger">
        Number of Students who got less than 40
      </a>
    </div>
    <div class="container shadow-lg mt-5">
      <h3 class="text-center">Student Records</h3>

      <%if(obj.length > 0){%>
      <div class="table-responsive">
        <table class="table">
          <thead>
            <tr>
              <th scope="col">Sno</th>
              <th scope="col">Student Name</th>
              <th scope="col">Marks of Subject 1</th>
              <th scope="col">Marks of Subject 2</th>
              <th scope="col">Marks of Subject 3</th>
              <th scope="col">Marks of Subject 4</th>
            </tr>
          </thead>
          <tbody>
            <%obj.forEach((val, pos)=>{%>
            <tr>
              <th scope="row"><%= pos+1 %></th>
              <td><%=val.sname%></td>
              <td><%=val.marks1%></td>
              <td><%=val.marks2%></td>
              <td><%=val.marks3%></td>
              <td><%=val.marks4%></td>
            </tr>
            <%})%>
          </tbody>
        </table>
      </div>
      <%}else{%>
      <p class="mt-4 text-center">No records found to display</p>
      <%}%>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/js/bootstrap.bundle.min.js"></script>
  </body>
</html>
